menu "Uart Pack Configuration"

config UART_CFG_ENABLE_DMA_RX
    bool "Enable DMA Receive"
    default y
    help
      Enable DMA Receive for UART

config UART_CFG_ENABLE_FIFO_TX
    bool "Enable FIFO Transmit"
    default y
    help
      Enable FIFO Transmit for UART

if UART_CFG_ENABLE_FIFO_TX
    config UART_CFG_TX_TIMEOUT
        int "FIFO Transmit Timeout (ms)"
        default 5
        range -1 100
        help
          FIFO Transmit Size in ms (-1 for give up, 0 for no timeout)
endif

config UART_CFG_DCACHE_COMPATIBLE
    bool "Enable D-Cache Compatible (H7/F7 Only)"
    default n
    help
      Enable D-Cache Compatible for DMA operation

config UART_CFG_REWRITE_HANLDER
    bool "Rewrite Handler Functions"
    default y
    help
      Rewrite Handler Functions generated by CubeMX automatically

config UART_CFG_ENABLE_CDC
    bool "Enable USB CDC Support"
    default n
    help
      Enable USB Virtual COM Port (CDC) Support
if UART_CFG_ENABLE_CDC
    choice
        prompt "USB CDC Interface"
        default UART_CFG_CDC_USE_CUBEMX

        config UART_CFG_CDC_USE_CUBEMX
            bool "CubeMX"
            help
            Use CubeMX generated USB CDC Interface

        config UART_CFG_CDC_USE_CHERRY
            bool "Cherry USB"
            help
            Use Cherry USB CDC Interface
    endchoice

    config UART_CFG_CDC_TIMEOUT
        int "CDC Timeout (ms)"
        default 5
        range 0 100
        help
          CDC Timeout in ms (0 for give up)
endif

config UART_CFG_TX_USE_DMA
    bool "Use DMA for Transmit"
    default y
    help
      Use DMA for Transmit

config UART_CFG_TX_USE_IT
    bool "Use Interrupt for Transmit"
    default y
    help
      Use Interrupt for Transmit

config UART_CFG_TX_TIMEOUT
    default 5
    range -1 100
    help
      Transmit Timeout in ms (-1 for give up, 0 for no timeout)

config UART_CFG_PRINTF_REDIRECT
    bool "Enable Printf Redirect"
    default y
if UART_CFG_PRINTF_REDIRECT
    choice
        prompt "Printf Redirect To"
        default UART_CFG_PRINTF_USE_UART
        config UART_CFG_PRINTF_BLOCK
            bool "NULL (Disble printf)"
        config UART_CFG_PRINTF_USE_UART
            bool "UART"
        config UART_CFG_PRINTF_USE_RTT
            bool "SEGGER RTT"
        config UART_CFG_PRINTF_USE_CDC
            bool "USB CDC"
            depends on UART_CFG_ENABLE_CDC
        config UART_CFG_PRINTF_USE_ITM
            bool "ITM (SWO Debug)"
    endchoice
    config UART_CFG_PRINTF_UART_PORT
        string "Printf UART Port"
        default "huart1"
        depends on UART_CFG_PRINTF_USE_UART
    config UART_CFG_PRINTF_REDIRECT_PUTX
        bool "Redirect puts/putchar"
        default y
        depends on !UART_CFG_PRINTF_BLOCK
endif

config VOFA_CFG_ENABLE
    bool "Enable VOFA+ Support"
    default n
if VOFA_CFG_ENABLE
config VOFA_CFG_BUFFER_SIZE
    int "VOFA+ Float Buffer Size"
    default 32
    range 1 128
endif
endmenu
