menuconfig UIO_CFG_ENABLE_UART
    bool "UART Support"
    default y
    help
      Enable UART Support
if UIO_CFG_ENABLE_UART
    config UIO_CFG_UART_ENABLE_DMA_RX
        bool "Enable DMA Receive"
        default y
        help
        Enable DMA Receive for UART

    config UIO_CFG_UART_ENABLE_FIFO_TX
        bool "Enable FIFO Transmit"
        default y
        help
        Enable FIFO Transmit for UART

    if UIO_CFG_UART_ENABLE_FIFO_TX
        config UIO_CFG_UART_TX_TIMEOUT
            int "FIFO Transmit Timeout (ms)"
            default 5
            range -1 100
            help
            FIFO Transmit Size in ms (-1 for give up, 0 for no timeout)
    endif

    config UIO_CFG_UART_DCACHE_COMPATIBLE
        bool "Enable D-Cache Compatible (H7/F7 Only)"
        default n
        help
        Enable D-Cache Compatible for DMA operation

    config UIO_CFG_UART_TX_USE_DMA
        bool "Use DMA for Transmit"
        default y
        help
        Use DMA for Transmit

    config UIO_CFG_UART_TX_USE_IT
        bool "Use Interrupt for Transmit"
        default y
        help
        Use Interrupt for Transmit

    config UIO_CFG_UART_TX_TIMEOUT
        default 5
        range -1 100
        help
        Transmit Timeout in ms (-1 for give up, 0 for no timeout)

    config UIO_CFG_UART_REWRITE_HANLDER
        bool "Rewrite Handler Functions"
        default y
        help
        Rewrite Handler Functions generated by CubeMX automatically
endif

menuconfig UIO_CFG_ENABLE_CDC
    bool "USB CDC Support"
    default n
    help
      Enable USB Virtual COM Port (CDC) Support
if UIO_CFG_ENABLE_CDC
    choice
        prompt "USB CDC Interface"
        default UIO_CFG_CDC_USE_CUBEMX

        config UIO_CFG_CDC_USE_CUBEMX
            bool "CubeMX"
            help
                Use CubeMX generated USB CDC Interface

        config UIO_CFG_CDC_USE_CHERRY
            bool "Cherry USB"
            help
                Use Cherry USB CDC Interface
    endchoice

    config UIO_CFG_CDC_TIMEOUT
        int "CDC Timeout (ms)"
        default 5
        range 0 100
        help
          CDC Timeout in ms (0 for give up)
endif

menuconfig UIO_CFG_ENABLE_ITM
    bool "ITM Support"
    default n
    help
      Enable ITM (SWO Debug) Support

menuconfig UIO_CFG_PRINTF_REDIRECT
    bool "Printf Redirect"
    default y
if UIO_CFG_PRINTF_REDIRECT
    choice
        prompt "Printf Redirect To"
        default UIO_CFG_PRINTF_USE_UART
        config UIO_CFG_PRINTF_DISABLE
            bool "NULL (Disable printf)"
        config UIO_CFG_PRINTF_USE_UART
            bool "UART"
            depends on UIO_CFG_ENABLE_UART
        config UIO_CFG_PRINTF_USE_RTT
            bool "SEGGER RTT"
        config UIO_CFG_PRINTF_USE_CDC
            bool "USB CDC"
            depends on UIO_CFG_ENABLE_CDC
        config UIO_CFG_PRINTF_USE_ITM
            bool "ITM (SWO Debug)"
            depends on UIO_CFG_ENABLE_ITM
    endchoice
    config UIO_CFG_PRINTF_UART_PORT
        string "Printf UART Port"
        default "huart1"
        depends on UIO_CFG_PRINTF_USE_UART
    config UIO_CFG_PRINTF_REDIRECT_PUTX
        bool "Redirect puts/putchar/getchar"
        default y
        depends on !UIO_CFG_PRINTF_DISABLE
    config UIO_CFG_PRINTF_ENDL
        string "Printf End Line String"
        default "\"\\r\\n\""
        depends on !UIO_CFG_PRINTF_DISABLE
endif

menuconfig UIO_CFG_ENABLE_VOFA
    bool "VOFA+ Support"
    default n
if UIO_CFG_ENABLE_VOFA
config UIO_CFG_VOFA_BUFFER_SIZE
    int "VOFA+ Float Buffer Size"
    default 32
    range 1 128
endif
